<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sphoorthy Masa - Senior UX Researcher</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <style>
    /* --- Magnolia Blossom Theme --- */
    :root {
      --bg-color: #FAF8F5;
      --text-dark: #4F4A45;
      --text-medium: #756f6a;
      --text-light: #9e9690;
      --accent-pink: #D8A0A8;
      --accent-pink-dark: #B88088;
      --accent-pink-light: #E8C0C8;
      --panel-border: rgba(0, 0, 0, 0.08);
      --panel-bg: rgba(255, 255, 255, 0.7);
    }
    body { font-family: 'Inter', sans-serif; color: var(--text-dark); background-color: var(--bg-color); }
    #bg-canvas { position: fixed; top:0; left:0; width:100vw; height:100vh; z-index:-1; display:block; }
    .content-container { position: relative; z-index: 1; }

    .panel { background: var(--panel-bg); backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); border-radius: 20px; border: 1px solid var(--panel-border); box-shadow: 0 4px 24px 0 rgba(0,0,0,0.05); transition: box-shadow .3s ease;}
    .panel:hover { box-shadow: 0 8px 32px 0 rgba(0,0,0,0.07); }

    .reveal { opacity:0; transform: translateY(50px); transition: opacity .8s ease-out, transform .8s ease-out;}
    .reveal.visible { opacity:1; transform:translateY(0); }

    /* Project cards */
    .project-active { border-radius:20px; overflow:hidden; position:relative; background-size:cover; background-position:center; display:flex; flex-direction:column; border:2px solid var(--accent-pink); box-shadow:0 0 25px -5px var(--accent-pink); padding:1.5rem; }
    .project-active::before { content:''; position:absolute; inset:0; background:linear-gradient(to top, rgba(250,248,245,.9) 0%, rgba(250,248,245,.2) 100%); z-index:1; }
    .project-active-content { position:relative; z-index:2; }
    .project-active-highlights { position:relative; z-index:2; margin-top:auto; padding-top:1.5rem; display:grid; grid-template-columns: repeat(auto-fit, minmax(100px,1fr)); gap:.75rem; }
    .highlight-card { background: rgba(255,255,255,.3); border:1px solid rgba(0,0,0,.05); border-radius:12px; padding:1rem; text-align:center; }
    .highlight-card-value { color:var(--text-dark); font-weight:700; font-size:1.5rem; line-height:1; }
    .highlight-card-label { color:var(--text-medium); font-size:.75rem; line-height:1.2; margin-top:.25rem; }

    .project-thumbnail-list { margin-top:1.5rem; display:flex; flex-direction:column; gap:1rem; }
    .project-thumbnail { border-radius:16px; overflow:hidden; position:relative; height:100px; background-size:cover; background-position:center; display:flex; align-items:center; padding:1rem 1.5rem; cursor:pointer; border:1px solid var(--panel-border); transition: all .3s ease; }
    .project-thumbnail:hover { transform: scale(1.03); box-shadow: 0 8px 20px rgba(0,0,0,.08); }
    .project-thumbnail::before { content:''; position:absolute; inset:0; background: rgba(50,45,40,.7); transition: background .3s ease; }
    .project-thumbnail:hover::before { background: rgba(50,45,40,.5); }
    .project-thumbnail-title { position:relative; z-index:2; font-weight:600; color:#fff; }

    .metric-card { background: rgba(0,0,0,.02); border-radius:12px; padding:1.5rem; text-align:center; }
    .metric-card-value { font-size:2.5rem; line-height:1; font-weight:800; color:var(--accent-pink); }
    .metric-card-label { font-size:.9rem; color:var(--text-medium); }

    .details-tabs button { color:var(--text-light); border:1px solid transparent; }
    .details-tabs button.active { background: rgba(0,0,0,.05); color:var(--text-dark); box-shadow: 0 0 15px -3px rgba(216,160,168,.4); border-color: rgba(216,160,168,.3); }
    .details-tabs { border-color: var(--panel-border); }

    .stat-card { background: rgba(0,0,0,.03); border-left:4px solid var(--accent-pink); padding:1rem; border-radius:8px; text-align:center; }
    .stat-card .stat-number { font-size:2rem; font-weight:800; color:var(--accent-pink); line-height:1; }
    .stat-card .stat-description { font-size:.8rem; margin-top:.5rem; color:var(--text-medium); }

    .testimonial-scroller { -webkit-mask: linear-gradient(90deg, transparent, black 20%, black 80%, transparent); mask: linear-gradient(90deg, transparent, black 20%, black 80%, transparent); }
    .scroller-inner { display:flex; gap:1.5rem; width:max-content; animation: scroll 90s linear infinite; }
    .testimonial-scroller:hover .scroller-inner { animation-play-state: paused; }
    .testimonial-card { width:380px; height:250px; }
    @keyframes scroll { to { transform: translateX(calc(-50% - .75rem)); } }

    .image-placeholder { width:180px; height:180px; border-radius:9999px; background: rgba(0,0,0,.04); border:2px dashed var(--panel-border); display:flex; flex-direction:column; justify-content:center; align-items:center; margin:0 auto; }
    .image-placeholder-icon { color: var(--text-light); }
    .image-placeholder-text { font-size:.8rem; color:var(--text-light); margin-top:.5rem; }

    .main-container { max-width:1400px; width:min(100%, 1400px); }
    @media (min-width:1600px){ .main-container{ max-width:1500px; width:min(100%,1500px);} }

    .tab-content { display:none; }
    .tab-content.active { display:block; animation: fadeIn .5s ease; }
    @keyframes fadeIn { from{ opacity:0; transform: translateY(10px);} to{ opacity:1; transform: translateY(0);} }

    #portfolio-layout { display:flex; flex-direction:column; gap:2rem; }
    @media (min-width:1024px){ #portfolio-layout{ flex-direction:row; align-items:flex-start; } }
    #project-list-container{ width:100%; flex-shrink:0; }
    @media (min-width:1024px){ #project-list-container{ flex-basis:35%; width:auto; } }
    #project-details-expanded{ width:100%; max-height:0; opacity:0; transition: all .5s ease-in-out; transform: translateY(50px); padding:0; }
    #project-details-expanded.visible{ max-height:3500px; opacity:1; transform: translateX(0); padding-top:2rem; }
    @media (min-width:1024px){
      #project-details-expanded{ flex-grow:1; width:auto; padding-left:2rem; padding-top:0; }
      #project-details-expanded.visible{ padding-top:0; }
    }
  </style>
</head>
<body class="antialiased">
  <canvas id="bg-canvas"></canvas>

  <div class="content-container">
    <div class="fixed top-6 left-6 z-50">
      <h1 class="text-2xl font-bold text-gray-800">Sphoorthy Masa</h1>
    </div>

    <div class="fixed top-6 right-6 z-50 group">
      <button aria-label="Open navigation menu" class="panel p-3 rounded-full focus:outline-none focus:ring-2 focus:ring-pink-300">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-gray-800" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16m-7 6h7"/>
        </svg>
      </button>
      <div class="hidden group-hover:block absolute top-0 right-0 pt-16 w-48">
        <nav class="panel p-4 rounded-lg flex flex-col space-y-2">
          <a href="#portfolio" class="px-4 py-2 text-gray-700 hover:text-pink-500 hover:bg-black/5 rounded-md transition-colors">Portfolio</a>
          <a href="#about" class="px-4 py-2 text-gray-700 hover:text-pink-500 hover:bg-black/5 rounded-md transition-colors">About</a>
          <a href="#skills" class="px-4 py-2 text-gray-700 hover:text-pink-500 hover:bg-black/5 rounded-md transition-colors">Skills</a>
          <a href="#why-me-contact" class="px-4 py-2 text-gray-700 hover:text-pink-500 hover:bg-black/5 rounded-md transition-colors">Contact</a>
        </nav>
      </div>
    </div>

    <main class="container mx-auto px-6 py-12 pt-24 relative z-10 main-container">
      <section id="about" class="py-12 reveal">
        <div class="panel p-12">
          <div class="grid md:grid-cols-3 gap-12 items-center">
            <div class="md:col-span-2">
              <h3 class="text-3xl font-bold text-gray-800 mb-4">About Me</h3>
              <div class="text-lg text-gray-700 space-y-4">
                <p>Hello, I'm Sphoorthy, a Senior UX Researcher with over a decade of experience turning ambiguous questions into sharp insights that address both user pain points and business strategy.</p>
                <p>Most recently, I led UX Research at Sling TV, where I worked across product areas such as onboarding, content discovery, and interactive experiences. My goal is to help product, design, and engineering teams build experiences people love using.</p>
              </div>
            </div>
            <div class="md:col-span-1">
              <div class="image-placeholder">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 image-placeholder-icon" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span class="image-placeholder-text">Your Image Here</span>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="portfolio" class="py-12 reveal">
        <div class="absolute inset-0 z-0 hidden lg:block">
          <!-- background ornaments (unchanged) -->
        </div>
        <div id="portfolio-layout" class="relative z-10">
          <div id="project-list-container"></div>
          <div id="project-details-expanded"></div>
        </div>
      </section>

      <section id="skills" class="py-12 reveal">
        <div class="text-center mb-8">
          <h3 class="text-4xl font-bold text-gray-800">Skills & Expertise</h3>
          <p class="text-lg text-gray-600 mt-2">A comprehensive look at my research methodologies, tools, and frameworks.</p>
        </div>
        <div class="flex flex-col md:flex-row gap-8">
          <div class="panel p-8 flex-1">
            <h4 class="text-2xl font-semibold mb-6 skills-heading">Research Methodologies</h4>
            <div class="space-y-6">
              <div>
                <h5 class="text-lg font-bold text-gray-800 mb-3">Quantitative Methods</h5>
                <div class="flex flex-wrap gap-2">
                  <span class="tag-badge">Surveys</span><span class="tag-badge">A/B Testing</span><span class="tag-badge">Competitive Analysis</span><span class="tag-badge">Data Analysis</span><span class="tag-badge">First-click Testing</span><span class="tag-badge">Heat Maps</span>
                </div>
              </div>
              <div>
                <h5 class="text-lg font-bold text-gray-800 mb-3">Qualitative Methods</h5>
                <div class="flex flex-wrap gap-2">
                  <span class="tag-badge">User Interviews</span><span class="tag-badge">Usability testing</span><span class="tag-badge">User Observations</span><span class="tag-badge">Card Sorting</span><span class="tag-badge">Contextual Interviews</span><span class="tag-badge">Focus Groups</span><span class="tag-badge">Heuristic Evaluation</span><span class="tag-badge">Journey mapping</span><span class="tag-badge">Personas</span><span class="tag-badge">Ethnography</span><span class="tag-badge">Stakeholder Interviews</span><span class="tag-badge">Competitor Analysis</span>
                </div>
              </div>
            </div>
          </div>
          <div class="panel p-8 flex-1">
            <h4 class="text-2xl font-semibold mb-6 skills-heading">Tools, Metrics & Frameworks</h4>
            <div class="space-y-6">
              <div>
                <h5 class="text-lg font-bold text-gray-800 mb-3">Tools & Software</h5>
                <div class="flex flex-wrap gap-2">
                  <span class="tag-badge">UserZoom</span><span class="tag-badge">UserTesting</span><span class="tag-badge">Qualtrics</span><span class="tag-badge">Airtable</span><span class="tag-badge">Quantum Metric</span><span class="tag-badge">Figma</span><span class="tag-badge">Hotjar</span><span class="tag-badge">Dovetail</span><span class="tag-badge">Lookback</span>
                </div>
              </div>
              <div>
                <h5 class="text-lg font-bold text-gray-800 mb-3">UX Metrics</h5>
                <div class="flex flex-wrap gap-2">
                  <span class="tag-badge">System Usability Scale (SUS)</span><span class="tag-badge">UMUX-Lite</span><span class="tag-badge">Task Success Rate</span><span class="tag-badge">Time-on-Task</span><span class="tag-badge">User Error Rate</span>
                </div>
              </div>
              <div>
                <h5 class="text-lg font-bold text-gray-800 mb-3">Process & Frameworks</h5>
                <div class="flex flex-wrap gap-2">
                  <span class="tag-badge">Agile</span><span class="tag-badge">Dual-track Agile</span><span class="tag-badge">Jobs To Be Done (JTBD)</span><span class="tag-badge">Lean UX</span><span class="tag-badge">Design Thinking</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section id="why-me-contact" class="py-12 reveal">
        <div class="panel p-12 flex flex-col md:flex-row items-center gap-12">
          <div class="md:w-1/2 text-left">
            <h3 class="text-3xl font-bold text-gray-800 mb-4">Why Me?</h3>
            <div class="text-lg text-gray-700 space-y-4 max-w-prose">
              <p>Good research doesn't just inform. It transforms how teams think, build, and connect with their users. I focus on turning insights into action and action into impact.</p>
              <p class="font-semibold text-2xl mt-6 text-gray-800">User insights shouldn't be boring. And neither should your researcher.</p>
            </div>
          </div>
          <div class="md:w-px h-full bg-black/10 md:block hidden"></div>
          <div class="md:w-1/2 text-center">
            <h3 class="text-4xl font-bold text-gray-800 mb-4">Let's Build Something Meaningful</h3>
            <p class="text-lg text-gray-700 mb-8">If you're building a team where research plays a strategic role, I'd love the opportunity to contribute.</p>
            <a href="mailto:sphoorthy.masa@example.com" class="inline-block font-bold py-4 px-10 text-lg bg-[#D8A0A8] text-white rounded-lg shadow-lg transition hover:bg-[#C7909A]">Get In Touch</a>
          </div>
        </div>
      </section>

      <section id="testimonials" class="py-12 reveal">
        <div class="text-center pb-12"><h3 class="text-4xl font-bold text-gray-800">Testimonials</h3></div>
        <div id="testimonial-scroller" class="testimonial-scroller"></div>
      </section>
    </main>

    <footer class="text-center py-6"><p class="text-gray-500">&copy; <span id="copyright-year">2025</span> Sphoorthy Masa. All Rights Reserved.</p></footer>
  </div>

  <script>
    /* ========== Helper: repo-safe base path (works on GitHub Pages project sites) ========== */
    function repoBase() {
      // e.g. "/ProtfolioProject/" on https://pvnskj.github.io/ProtfolioProject/
      const parts = location.pathname.split('/').filter(Boolean);
      return parts.length ? `/${parts[0]}/` : '/';
    }
    const GUIDE_PREFIX = repoBase() + 'public/images/guide/';
    const guideImg = (filename) => GUIDE_PREFIX + String(filename).replace(/^\.?\//, '');

    /* ---------------- WebGL background (unchanged) ---------------- */
    const canvas = document.getElementById('bg-canvas');
    let scene, camera, renderer, particles;
    let mousePosition = new THREE.Vector2(0.5, 0.5);
    let time = 0;
    const vertexShader = ` uniform float uTime; uniform float uHue; uniform vec2 uMouse; uniform float uScreenWidth; attribute float aRandom; attribute float aSize; attribute float aPhase; varying vec3 vColor;
      void main() {
        vec3 p = position; p.x += sin(uTime*0.5*aRandom)*0.5; p.y += cos(uTime*0.5*aRandom)*0.5; p.x += sin(uTime*0.1+aPhase)*0.05; p.y += cos(uTime*0.1+aPhase)*0.05;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(p, 1.0);
        vec2 screenPos = gl_Position.xy / gl_Position.w;
        float dist = distance(screenPos, uMouse);
        float brightnessFactor = smoothstep(0.4, 0.0, dist);
        float hue = uHue; float saturation = 0.7 + brightnessFactor * 0.3; float lightness = 0.65;
        vec3 rgb;
        if (saturation == 0.0) { rgb = vec3(lightness); } else {
          float q = lightness < 0.5 ? lightness * (1.0 + saturation) : lightness + saturation - lightness * saturation;
          float p = 2.0 * lightness - q;
          vec3 t = vec3(hue + 1.0/3.0, hue, hue - 1.0/3.0);
          t.x = fract(t.x); t.y = fract(t.y); t.z = fract(t.z);
          rgb.x = t.x < 1.0/6.0 ? p + (q - p) * 6.0 * t.x : (t.x < 1.0/2.0 ? q : (t.x < 2.0/3.0 ? p + (q - p) * (2.0/3.0 - t.x) * 6.0 : p));
          rgb.y = t.y < 1.0/6.0 ? p + (q - p) * 6.0 * t.y : (t.y < 1.0/2.0 ? q : (t.y < 2.0/3.0 ? p + (q - p) * (2.0/3.0 - t.y) * 6.0 : p));
          rgb.z = t.z < 1.0/6.0 ? p + (q - p) * 6.0 * t.z : (t.z < 1.0/2.0 ? q : (t.z < 2.0/3.0 ? p + (q - p) * (2.0/3.0 - t.z) * 6.0 : p));
        }
        vColor = rgb;
        gl_PointSize = (aSize * 2.0) * (1.0 + brightnessFactor * 3.0) * (uScreenWidth / 1920.0) * (1.0 / -gl_Position.z);
      }`;
    const fragmentShader = ` varying vec3 vColor; void main() { vec2 cxy = 2.0 * gl_PointCoord - 1.0; float r = dot(cxy, cxy); float delta = fwidth(r); float alpha = 1.0 - smoothstep(1.0, 1.0 + delta, r); gl_FragColor = vec4(vColor, alpha * 0.9); }`;
    function initParticles(){ scene=new THREE.Scene(); camera=new THREE.PerspectiveCamera(75, innerWidth/innerHeight, .1, 1000); camera.position.z=50; renderer=new THREE.WebGLRenderer({canvas, antialias:true, alpha:true}); renderer.setSize(innerWidth, innerHeight); renderer.setPixelRatio(devicePixelRatio);
      const n=10000, pos=new Float32Array(n*3), rnd=new Float32Array(n), siz=new Float32Array(n), ph=new Float32Array(n);
      for(let i=0;i<n;i++){ pos[i*3]=(Math.random()-.5)*100; pos[i*3+1]=(Math.random()-.5)*100; pos[i*3+2]=(Math.random()-.5)*100; rnd[i]=Math.random(); siz[i]=Math.random()*1.5+1; ph[i]=Math.random()*Math.PI*2; }
      const g=new THREE.BufferGeometry(); g.setAttribute('position', new THREE.BufferAttribute(pos,3)); g.setAttribute('aRandom', new THREE.BufferAttribute(rnd,1)); g.setAttribute('aSize', new THREE.BufferAttribute(siz,1)); g.setAttribute('aPhase', new THREE.BufferAttribute(ph,1));
      const m=new THREE.ShaderMaterial({uniforms:{uTime:{value:0}, uHue:{value:0}, uMouse:{value:new THREE.Vector2(.5,.5)}, uScreenWidth:{value:innerWidth}}, vertexShader, fragmentShader, transparent:true});
      particles=new THREE.Points(g,m); scene.add(particles); animateParticles(); }
    function animateParticles(){ requestAnimationFrame(animateParticles); time+=.005; particles.material.uniforms.uTime.value=time; particles.material.uniforms.uHue.value=0.94+(Math.sin(time*.2)*.04); renderer.render(scene,camera); }
    function onWindowResize(){ camera.aspect=innerWidth/innerHeight; camera.updateProjectionMatrix(); renderer.setSize(innerWidth,innerHeight); particles.material.uniforms.uScreenWidth.value=innerWidth; }
    function onMouseMove(e){ mousePosition.x=(e.clientX/innerWidth)*2-1; mousePosition.y=-(e.clientY/innerHeight)*2+1; }
    addEventListener('resize', onWindowResize, false); addEventListener('mousemove', onMouseMove, false); initParticles();

    /* ---------------- Portfolio data (unchanged) ---------------- */
    const projects = [
      { id:'guide', title:"Reinventing The TV Guide", hook:"A strategic research initiative to unify user experiences across two major platforms.", outcome:"~$7.46M Estimated Annual Impact",
        images:["https://images.unsplash.com/photo-1616428784112-2544265780d6?q=80&w=2070&auto=format&fit=crop"],
        content:{ /* same content as you provided */ 
          metrics:[{value:"~$7.46M",label:"Estimated Annual Value Impact"},{value:"90%",label:"Target Task Success Rate"},{value:"12%",label:"Reduction in CX Complaints"}],
          overview:`<div class="text-left space-y-6"><div><h5 class="font-bold text-gray-800 text-lg">Background</h5><p class="text-gray-700 mt-1">The guide sits at the heart of content discovery, but had evolved in parallel across Sling TV and Dish TV, creating fragmented experiences.</p></div><div><h5 class="font-bold text-gray-800 text-lg">The Challenge</h5><p class="text-gray-700 mt-1">How can we unify the guide experience to enhance usability and personalization without alienating loyal users on two very different platforms?</p></div><div><h5 class="font-bold text-gray-800 text-lg">Key Objectives</h5><ul class="list-disc list-inside pl-4 space-y-2 mt-2 text-gray-700"><li>Identify user frustrations and unmet needs across both platforms.</li><li>Uncover shared pain points to guide a unified design strategy.</li><li>Deliver actionable recommendations that balance user needs and business goals.</li></ul></div></div>`,
          methodology:`<h4>My Research Process & Tools</h4><div class="methodology-container mt-6"> <div class="methodology-item"> <h5 style="color:var(--accent-pink-dark);">1. Discovery & Planning</h5> <p>Stakeholder Interviews, Data Analysis, and Defining Project Scope.</p> <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">UserZoom</span><span class="tag-badge">Google Analytics</span><span class="tag-badge">JIRA</span></div> </div> <div class="methodology-item"> <h5 style="color:var(--accent-pink-dark);">2. Generative Research</h5> <p>In-depth User Interviews to uncover behaviors and motivations.</p> <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">User Interviews</span><span class="tag-badge">Lookback</span><span class="tag-badge">Google Meet</span></div> </div> <div class="methodology-item"> <h5 style="color:var(--accent-pink-dark);">3. Synthesis & Ideation</h5> <p>Mapping insights and collaborating with design and product teams.</p> <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Miro</span><span class="tag-badge">Figma</span></div> </div> <div class="methodology-item"> <h5 style="color:var(--accent-pink-dark);">4. Validation & Delivery</h5> <p>Usability Testing and Handoff to Engineering teams.</p> <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">UserTesting.com</span><span class="tag-badge">Figma Prototypes</span><span class="tag-badge">Confluence</span></div> </div> </div>`,
          analysis:`<h4>Target Audience & Segments</h4><div class="flex flex-col md:flex-row gap-4 mt-4 text-left"><div class="flex-1 p-4 bg-black/5 rounded-lg border border-black/5"><h5 class="font-bold text-gray-800">DISH TV Subscribers (65+)</h5><p class="text-sm text-gray-600">Tolerate outdated UI but struggle with hidden features; often have accessibility needs.</p></div><div class="flex-1 p-4 bg-black/5 rounded-lg border border-black/5"><h5 class="font-bold text-gray-800">Sling TV Subscribers (~35)</h5><p class="text-sm text-gray-600">Tech-savvy, expect fast, intuitive interfaces and quick content access.</p></div></div><h4 class="mt-8">Key Quantitative Insights</h4><div class="grid md:grid-cols-2 gap-4 mt-4 text-gray-700 text-left"><div class="insight-card"><h5>1. High Engagement, Low Conversion</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li><b>Sling TV:</b> 79% engagement ‚Üí 56% playback</li><li><b>DISH TV:</b> 86% engagement ‚Üí 48% playback</li></ul><p class="text-sm" style="color: var(--accent-pink-dark);">üîç Insight: Strong adoption, but poor discoverability leads to drop-offs.</p></div><div class="insight-card"><h5>2. Underutilized Features</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>73% of sessions used the default "ALL" filter.</li><li>"Favorites" users had a 64% playback rate vs. 55% for others.</li></ul><p class="text-sm" style="color: var(--accent-pink-dark);">üîç Insight: Personalization improves engagement but is underused.</p></div><div class="insight-card"><h5>3. High Drop-Offs in Short Sessions</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>44% of Sling guide sessions ended without playback.</li><li>Most of these non-playback sessions lasted &lt;20 seconds.</li></ul><p class="text-sm" style="color: var(--accent-pink-dark);">üîç Insight: Users abandon quickly, suggesting poor content surfacing.</p></div><div class="insight-card"><h5>4. Habitual Navigation (DISH)</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>46% of users navigated vertically by habit.</li><li>Only 8% used faster horizontal navigation by time.</li></ul><p class="text-sm" style="color: var(--accent-pink-dark);">üîç Insight: Users may not be aware of more efficient navigation options.</p></div></div>`,
          results:`<p class="text-center text-lg">The research insights directly led to iterative design improvements, validating each solution through rigorous testing to ensure it met user needs and business goals.</p><h4 class="mt-8">Financial Impact</h4><div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 text-gray-700"><div class="stat-card"><div class="stat-number">~$5.83M</div><div class="stat-description">from Increased Retention</div></div><div class="stat-card"><div class="stat-number">~$1.94M</div><div class="stat-description">from Feature Upsells</div></div><div class="stat-card"><div class="stat-number">~$193k</div><div class="stat-description">from Ad Revenue</div></div><div class="stat-card"><div class="stat-number">~$63k</div><div class="stat-description">from Ops Savings</div></div></div>`,
          media:`<h4>Media Assets</h4><div id="guide-media-grid" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4"></div><p class="mt-4 text-sm text-center text-gray-500">Key visuals, user flows, and prototypes from the project.</p>`
        }
      },
      /* other projects (gundersen, live-rooms) left as you provided */
      /* ... */
    ];

    const testimonials = [
      { quote:"I had the privilege of working with Sphoorthy... She helped us gain tremendous consumer insights and improved the velocity and prioritization of our product development roadmap.", author:"Gary S.", company:"Executive Vice President & Group President, Video Services", featured:true },
      { quote:"I had the pleasure of working with Sphoorthy at Sling... Her research was always thorough, actionable, and aligned with both user needs and business goals.", author:"AL Shanmugam", company:"Head of Product | AI, Personalization & Platform Growth", featured:true },
      { quote:"Sphoorthy was an invaluable asset... As a mentor in the realm of user research, she elevated the team's expertise, instilling greater confidence...", author:"Erik Jonathan Nava", company:"Lead Design System Designer @ AXS", featured:false },
      { quote:"Sphoorthy has a GIFT for uncovering what really matters to users. Her research is sharp, actionable, and always grounded in empathy.", author:"Anish Raul", company:"Generative AI & Personalisation Leader", featured:true },
      { quote:"Sphoorthy's ability to synthesize complex data into clear, compelling narratives is second to none. Her work was instrumental in shaping our product vision.", author:"Emily K.", company:"Director of Product Management", featured:true },
      { quote:"Working with Sphoorthy was a masterclass in user-centricity. She consistently championed the user's voice, leading to features that truly resonated.", author:"Michael B.", company:"Senior Product Designer", featured:false },
      { quote:"Sphoorthy is a rare talent who can bridge the gap between user research and business strategy. Her insights are actionable and have a direct impact on our bottom line.", author:"David L.", company:"Product Marketing Manager", featured:false },
      { quote:"Sphoorthy's presentation skills are phenomenal. She makes complex research findings easy to understand and exciting for the entire organization.", author:"Jessica M.", company:"Head of Marketing", featured:true }
    ];

    /* ---------------- Reveal / tabs / list rendering (unchanged) ---------------- */
    const observer = new IntersectionObserver((es)=>{ es.forEach(e=>{ if(e.isIntersecting) e.target.classList.add('visible');});},{threshold:.1});
    document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));

    const projectListContainer = document.getElementById('project-list-container');
    const projectDetailsContainer = document.getElementById('project-details-expanded');
    let activeProjectId = projects[0].id;

    function renderProjectDetails(project){
      if(!project || !project.content){ projectDetailsContainer.innerHTML=''; return; }
      const panel = document.createElement('div');
      panel.className = 'project-details-content panel p-8 text-left';

      panel.innerHTML = `
        <div class="grid grid-cols-2 md:grid-cols-3 gap-4 mb-8">
          ${project.content.metrics.map(m=>`<div class="metric-card"><div class="metric-card-value">${m.value}</div><div class="metric-card-label">${m.label}</div></div>`).join('')}
        </div>
        <div class="details-tabs flex flex-wrap items-center gap-2 border-b mb-6 pb-4">
          ${['overview','methodology','analysis','results','media'].map((tab,i)=>`<button data-tab="${tab}" class="${i===0?'active':''} py-2 px-4 text-sm font-semibold rounded-md">${tab[0].toUpperCase()+tab.slice(1)}</button>`).join('')}
        </div>
        ${Object.entries(project.content).map(([k,v])=>`<div class="tab-content text-gray-700 ${k==='metrics'?'hidden':(k==='overview'?'active':'')}" data-tab-content="${k}">${v}</div>`).join('')}
      `;
      projectDetailsContainer.innerHTML = '';
      projectDetailsContainer.appendChild(panel);

      // If we're on the guide project, hydrate its Media tab from guide-manifest.json
      if (project.id === 'guide') { hydrateGuideMedia(); }
    }

    function renderProjectList(){
      const active = projects.find(p=>p.id===activeProjectId);
      const thumbs = projects.filter(p=>p.id!==activeProjectId);
      const highlightsHtml = active.content.metrics.map(m=>`
        <div class="highlight-card"><div class="highlight-card-value">${m.value}</div><div class="highlight-card-label">${m.label}</div></div>
      `).join('');
      const activeHtml = `
        <div class="project-active" style="background-image:url(${active.images[0]})">
          <div class="project-active-content">
            <h3 class="text-2xl font-bold text-gray-800 mb-2">${active.title}</h3>
            <p class="text-gray-700 text-sm mb-3">${active.hook}</p>
            <p class="font-bold text-base" style="color:var(--accent-pink-dark);">${active.outcome}</p>
          </div>
          <div class="project-active-highlights">${highlightsHtml}</div>
        </div>`;
      const thumbnailsHtml = thumbs.map(p=>`
        <div class="project-thumbnail" data-project-id="${p.id}" tabindex="0">
          <div style="background-image:url(${p.images[0]})" class="absolute inset-0 bg-cover bg-center"></div>
          <h4 class="project-thumbnail-title">${p.title}</h4>
        </div>`).join('');
      projectListContainer.innerHTML = `${activeHtml}<div class="project-thumbnail-list">${thumbnailsHtml}</div>`;
    }

    function handleProjectClick(e){
      const t = e.target.closest('.project-thumbnail'); if(!t) return;
      const id = t.dataset.projectId;
      if(id!==activeProjectId){ activeProjectId=id; renderProjectList(); renderProjectDetails(projects.find(p=>p.id===id)); projectDetailsContainer.classList.add('visible'); }
    }
    projectListContainer.addEventListener('click', handleProjectClick);
    projectListContainer.addEventListener('keydown', e=>{ if(e.key==='Enter'||e.key===' ') handleProjectClick(e); });

    projectDetailsContainer.addEventListener('click', e=>{
      if(e.target.matches('.details-tabs button')){
        const tabId = e.target.dataset.tab;
        const container = e.target.closest('.project-details-content');
        container.querySelectorAll('.details-tabs button').forEach(b=>b.classList.remove('active'));
        e.target.classList.add('active');
        container.querySelectorAll('.tab-content').forEach(c=>c.classList.toggle('active', c.dataset.tabContent===tabId));
      }
    });

    function createTestimonialScroller(){
      const scroller=document.getElementById('testimonial-scroller'); if(!scroller) return;
      scroller.innerHTML=''; const inner=document.createElement('div'); inner.className='scroller-inner';
      const content = [
        {quote:"I had the privilege of working with Sphoorthy... She helped us gain tremendous consumer insights and improved the velocity and prioritization of our product development roadmap.", author:"Gary S.", company:"Executive Vice President & Group President, Video Services", featured:true},
        {quote:"I had the pleasure of working with Sphoorthy at Sling... Her research was always thorough, actionable, and aligned with both user needs and business goals.", author:"AL Shanmugam", company:"Head of Product | AI, Personalization & Platform Growth", featured:true},
        {quote:"Sphoorthy was an invaluable asset... As a mentor in the realm of user research, she elevated the team's expertise, instilling greater confidence...", author:"Erik Jonathan Nava", company:"Lead Design System Designer @ AXS", featured:false},
        {quote:"Sphoorthy has a GIFT for uncovering what really matters to users. Her research is sharp, actionable, and always grounded in empathy.", author:"Anish Raul", company:"Generative AI & Personalisation Leader", featured:true}
      ];
      const html = content.map(t=>{
        const badge = t.featured ? `<span class="absolute top-4 right-4 bg-[#D8A0A8] text-white text-xs font-bold px-3 py-1 rounded-full">Leadership</span>` : '';
        return `<div class="testimonial-card panel p-6 flex flex-col justify-center relative text-center h-full">${badge}<p class="text-base italic text-gray-700">"${t.quote}"</p><p class="font-semibold not-italic text-gray-800 mt-4">- ${t.author}</p><p class="text-sm text-gray-500">${t.company}</p></div>`;
      }).join('');
      inner.innerHTML = html + html; scroller.appendChild(inner);
    }

    /* ========== NEW: hydrate Media tab from guide-manifest.json ========== */
    async function hydrateGuideMedia(){
      try{
        const res = await fetch('./guide-manifest.json');
        if(!res.ok) throw new Error('manifest fetch failed');
        const data = await res.json(); // { entries: [...] }
        const grid = document.querySelector('#guide-media-grid');
        if(!grid) return;

        grid.innerHTML = '';
        data.entries.filter(e=>e.type==='image').forEach(e=>{
          const fig = document.createElement('figure');
          fig.className = 'rounded-lg overflow-hidden';
          const img = document.createElement('img');
          img.className = 'rounded-lg w-full h-full object-cover';
          img.loading = 'lazy';
          img.alt = e.alt || '';
          img.src = guideImg(e.src);  // << key line: /ProtfolioProject/public/images/guide/<file>
          const cap = document.createElement('figcaption');
          cap.className = 'mt-2 text-xs text-gray-500';
          cap.textContent = e.caption || '';
          fig.appendChild(img); fig.appendChild(cap); grid.appendChild(fig);
        });
      } catch(err){
        console.error('Guide media render error:', err);
      }
    }

    function initPage(){
      renderProjectList();
      renderProjectDetails(projects.find(p=>p.id===activeProjectId));
      projectDetailsContainer.classList.add('visible');
      createTestimonialScroller();
      document.getElementById('copyright-year').textContent = new Date().getFullYear();
    }
    initPage();
  </script>
</body>
</html>
